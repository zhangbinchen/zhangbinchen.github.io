<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Linux基础 | ZhangBinchen&#39;s Blog</title>
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(https://avatars3.githubusercontent.com/u/26861951?s=400&amp;u=097c794be5974849f47c6afd8cc1a191ee90eb20&amp;v=4)">
        </div>
    </section>
    <section class='menu'>
        <div>ZhangBinchen&#39;s Blog</div>
        
            <div>E-mail:17794224898@163.com</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>时间轴</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/zhangbinchen">
                    <img src="/assets/github.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>Linux基础</h1>
    </header>

    <section>
      <h3 id="命令解析器"><a href="#命令解析器" class="headerlink" title="命令解析器"></a>命令解析器</h3><ul>
<li>shell就是命令解析器</li>
<li>命令解析器作用：对用户输入到终端的命令进行解析调用对应的执行程序</li>
<li>shell在在寻找命令的时候是按照$PATH环境变量搜索命令，若找不到就报错，</li>
<li>执行 echo $PATH可产看PATH环境变量的值</li>
<li>查看当前系统下有哪些shell：cat/etc/shells</li>
<li>查看当前系统所使用的shell：echo $SHELL</li>
</ul>
<h3 id="Linux-下常用快捷键"><a href="#Linux-下常用快捷键" class="headerlink" title="Linux 下常用快捷键"></a>Linux 下常用快捷键</h3><ul>
<li>遍历输入的历史命令：ctrl+p（↑）ctrl+n(↓)</li>
<li>history  ：显示用户输入的所有命令</li>
<li>光标移动<blockquote>
<ul>
<li>ctrl+b（←）光标左移</li>
<li>ctrl+f（→）光标右移</li>
<li>ctrl+a（home）移动到行首</li>
<li>ctrl+e（end）移动到行尾</li>
</ul>
</blockquote>
</li>
<li>字符删除<blockquote>
<ul>
<li>ctrl+h(Backspace)删除光标前边的字符</li>
<li>ctrl+d删除光标后边的字符</li>
<li>ctrl+u删除光标前所有内容</li>
<li>ctrl+k删除光标后所有内容</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Linux-下的目录结构"><a href="#Linux-下的目录结构" class="headerlink" title="Linux 下的目录结构"></a>Linux 下的目录结构</h3><ul>
<li>倒树状 根目录用“/”</li>
</ul>
<h5 id="主要目录简介"><a href="#主要目录简介" class="headerlink" title="主要目录简介"></a>主要目录简介</h5><ul>
<li>/bin（binary，二进制文件，存放可执行程序，shell命令，如：ls,rm,等命令存放目录）</li>
<li>/sbin（Super User，存放系统管理员使用的系统管理程序，如ifconfig，halt，shutdown，reboot等系统命令）</li>
<li>/dev（device，设备文件，Linux下一切皆文件，硬件鼠标键盘文件，字符设备块设备文件……）</li>
<li>/lib（动态库文件）</li>
<li>/mnt（手动挂载目录）</li>
<li>/media（外设的自动挂载目录，如光驱）</li>
<li>/root（root用户家目录）</li>
<li>/usr（unix system resource   /usr/include目录存放头文件）</li>
<li>/etc(存放配置文件:etc/passwd、etc/group、etc/profile（系统的配置文件，修改该文件会影响这个系统下面的所有用户）)</li>
<li>/opt（安装第三方应用程序，如oracle数据库）</li>
<li>/home（Linux操作系统所有用户的家目录（家目录又叫宿主目录或者主目录））</li>
<li>tmp（存放临时文件，存放在这个目录下的文件会在系统重新启动后自动清除）<br>【”.”表示当前目录】<br>【”..”表示当前目录上一级目录】</li>
</ul>
<h3 id="文件和目录操作命令"><a href="#文件和目录操作命令" class="headerlink" title="文件和目录操作命令"></a>文件和目录操作命令</h3><ul>
<li><p>ls（查看指定目录下的文件信息）</p>
<blockquote>
<p>ls -a:列出当前目录下的所有文件<br>ls -R:递归方式列出所有目录中的内容<br>ls -l:列出文件的详细信息（详细信息包含7部分内容）<br>ls -ltr:按照时间递归排序显示详细信息</p>
<blockquote>
<ol>
<li>第一个字符:表示文件类型<blockquote>
<ul>
<li>-:普通文件</li>
<li>d:目录文件</li>
<li>l:软链接（符号链接），相当于windows中的快捷方式</li>
<li>s:socket套接字</li>
<li>p:管道</li>
<li>b:块设备（磁盘）</li>
<li>c:字符设备（键盘）</li>
</ul>
</blockquote>
</li>
<li>第2-10个字符：用户操作权限<blockquote>
<ul>
<li>234字符：文件所有者对文件的操作权限</li>
<li>567字符：文件所属组用户对文件的操作权限</li>
<li>8910字符：其他人对文件的操作权限</li>
</ul>
</blockquote>
</li>
<li>硬链接计数<blockquote>
<ul>
<li>对目录而言，链接计数等于该目录下所有目录总数，但不包括该目录的自目录下的目录文件数量</li>
<li>对于文件而言，指的是该文件所有的硬链接文件数量</li>
</ul>
</blockquote>
</li>
<li>文件所有者：</li>
<li>文件所属组</li>
<li>文件大小（目录文件指的是是目录大小即4k）</li>
<li>文件创建时间或最后修改时间</li>
</ol>
</blockquote>
</blockquote>
</li>
<li><p>cd（切换目录）</p>
</li>
<li>pwd（查看当前工作目录）</li>
<li>which（显示命令所在目录，如which ls）</li>
<li>touch（文件不存在创建空文件，文件存在更新文件的最后修改时间）</li>
<li>mkdir（创建新目录，可创建多级目录加参数：-p）</li>
<li>rmdir（删除空目录）</li>
<li>rm（删除文件：-r 递归删除目录 -i提示用户是否删除 -f:强制删除）</li>
<li>文件删除不易恢复，操作需谨慎</li>
<li>cp（拷贝命令，用法：cp 源 目标）</li>
<li><p>cp命令需注意几种情况：</p>
<blockquote>
<ol>
<li>若有目录的拷贝需要使用 -r参数</li>
<li>cp file1 file2(不存在):创建file2，再将file1拷贝到file2中</li>
<li>cp file1 file2（存在）：file1覆盖file2</li>
<li>cp -r dir1 dir2（存在）：将dir1在内的目录拷贝到dir2中</li>
<li>cp -r dir1 dir2（不存在）：创建dair2，将dir1中的内容拷贝到dir2，不包括dir1</li>
<li>cp拷贝目录也可以用-a参数，这样可以保留被拷贝的文件的一些属性信息</li>
</ol>
</blockquote>
</li>
<li><p>mv(移动文件或者文件重命名：mv 源 目标)</p>
<ol>
<li>重命名时若源文件和目标文件均存在时：实际将源文件改名为目标文件且源文件覆盖目标文件<br>2.移动：目标一定是目录；若源也是目录：那么将源移动到目录中以子目录存在</li>
</ol>
</li>
<li>cat（将文件内容一次性输出到终端若文件太长无法全部显示）<br>cat可用于文件重定向：cat file1&gt;file2,相当于cp file1 file2</li>
<li>more（文件内容分页显示到终端，只能向下浏览不能回退 ：more+文件名；下一行:回车 下一页：空格 退出 q）</li>
<li>less（将文件分页显示到终端，可上下浏览）<br>显示下一行：回车、ctrl+p、↓<br>显示上一行：ctrl+n、↑<br>显示下一页：空格、PageDown<br>显示上一页：PageUp<br>推出：q</li>
<li>head（文件开头起查看前n行：head -n（行数） 文件名；默认显示前10行）</li>
<li>tail（从文件尾部向上查看最后n行内容：tail -n（行数）文件名，默认10行）<br>【tail显示日志：tail -f test.log(一个终端tail -f test.log，另一个终端：echo”hello world”&gt;&gt;test.log)】</li>
<li>ln -s（软链接（类似windows的快捷方式）；文件目录均可设置软链接）<br>【注意：ln -s创建软链接要用绝对路径；软链接文件大小为：路径+文件名的总字节数】</li>
<li>ln（硬链接：文件名 硬链接名）<ol>
<li>硬链接不能建在目录上</li>
<li>硬链接不能跨文件系统：硬链接文件和源文件的inode是相同的，文件系统的inode要求唯一，跨文件系统可能会使inode不同</li>
<li>硬链接的本质：是不同的文件名所在的inode节点是相同的，相同的inode节点指向了相同的数据块，所以他们的文件内容是一样的，文件内容会同步</li>
<li>硬链接可以起到同步文件的作用：修改file内容其他硬链接文件会同步修改</li>
<li>删除文件的时候，只要硬链接计数部位0，不会真正删除，起到保护文件的作用</li>
</ol>
</li>
<li>wc（显示文件行数，字节数，单词数）<blockquote>
<p>wc -l file 显示文件的总行数<br>wc -c file 显示文件的总字节数<br>wc -w file 显示文件的总单词数<br>wc file 显示文件的总行数，单词数，总字节数</p>
</blockquote>
</li>
<li>whoami（显示当前登陆的用户名）</li>
</ul>
<h3 id="用户、用户组、用户权限"><a href="#用户、用户组、用户权限" class="headerlink" title="用户、用户组、用户权限"></a>用户、用户组、用户权限</h3><ul>
<li>chmod（修改文件权限）</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">文字设定法：chmod[who][+或-或=][mode]文件名</th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">操作对象[who]</td>
<td style="text-align:left">操作符【+、-、=】</td>
<td style="text-align:left">权限【mode】</td>
</tr>
<tr>
<td style="text-align:left">u—(user)用户、</td>
<td style="text-align:left">+:添加权限</td>
<td style="text-align:left">r—读</td>
</tr>
<tr>
<td style="text-align:left">g—（group）用户组（同组用户）</td>
<td style="text-align:left">-：取消权限</td>
<td style="text-align:left">w—写</td>
</tr>
<tr>
<td style="text-align:left">o—(other)其他用户、</td>
<td style="text-align:left">=：赋予给定权限并取消其他权限</td>
<td style="text-align:left">x—执行</td>
</tr>
<tr>
<td style="text-align:left">a—(all)所有用户【默认】</td>
</tr>
<tr>
<td style="text-align:left">示例：</td>
<td style="text-align:left">给文件file.txt的所有者和所属组添加读写权限</td>
<td style="text-align:left">chmod ug+wr file.txt</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">数字设定法：chmod [+、-、=(可省略)][mode]文件名</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">没有权限（-）</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">执行权限（x）</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">写权限（w）</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">读权限（r）</td>
</tr>
<tr>
<td style="text-align:left">示例：给file.txt设置rw-rw-r–</td>
<td style="text-align:left">chmod 664 file.txt</td>
</tr>
<tr>
<td style="text-align:left">注意</td>
<td style="text-align:left">使用数字设定法一定要使用3位的8进制数（如：066）</td>
</tr>
</tbody>
</table>
<ul>
<li>chown （修改文件所有者和所属组）<blockquote>
<p>chown 文件所有者 文件名：sudo chown me file.txt<br>chown 文件所有者：文件所属组 文件名：sudo chown me:/. me file.txt<br>注意：sudo adduser 用户名（创建新用户）</p>
</blockquote>
</li>
<li>chgrp（修改文件所属组）<blockquote>
<p>chgrp 用户组 文件或目录名：sudo chgrp me file.txt(将file.txt所属组改为me)</p>
</blockquote>
</li>
</ul>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><ul>
<li>按文件名查询：find 路径 -name “文件名”</li>
<li><p>按文件类型查询：find 路径 -type 类型</p>
<blockquote>
<p>文件类型（type）：<br>普通文件用f表示而不是”-“;<br>d—–目录（dir）<br>l—–软链接（符号链接）<br>b—–块设备文件<br>c—–字符设备文件<br>s—–socket文件（套接字）<br>p—–管道文件</p>
</blockquote>
</li>
<li><p>按文件大小查询：find 路径 -size 范围</p>
<blockquote>
<p>范围：大于：+ ，+100k；”+”小于：-，-100k；等于：不加符号：100k<br>大小：M（大写）、k（小写）、c（表示字节数）<br>例如：查询家目录下大于50k，小于100k的文件：find ~/-size+50k-100k</p>
</blockquote>
</li>
<li><p>按文件日期查询：</p>
<blockquote>
<p>创建日期：-ctime -n/+n（n天以内/n天以外）<br>修改日期：-mtime -n/+n<br>访问日期：-atime -n/+n</p>
</blockquote>
</li>
<li><p>按深度</p>
<blockquote>
<p>-maxdepth n(层数)：搜索n层以下的目录，搜索的层数不超过n层<br>-mindepth n(层数)：搜索n层以上的目录，搜索的层数不超过n层</p>
</blockquote>
</li>
<li><p>高级查找：</p>
<blockquote>
<ol>
<li>find 路径 查找规则 -exec shell命令 {}\;（{}中不能有空格）</li>
<li>find 路径 查找规则 -ok shell命令 {}\;(ok比较安全，在执行操作前询问是否确认操作)</li>
<li>find 路径 查找规则 | xargs shell命令<br>如：查找当前目录下所有目录，列出目录中文件详细信息</li>
<li>find ./ -type d -exec ls -l {}\;</li>
<li>find ./ -type d -ok ls -l {}\;</li>
<li>find ./ -type d |xargs ls -l</li>
</ol>
</blockquote>
</li>
</ul>
<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><ul>
<li><p>grep -r（有目录）”查找的内容”搜索的路径</p>
<blockquote>
<p>-r :若是目录，则递归搜索<br>-n :显示查到内容所在行号<br>-i :忽略大小写查找<br>-v :不显示含有某字符串<br>如：搜索当前目录下包含helloworld字符串的文件<br>grep -r -n-i “HELLo world” ./</p>
</blockquote>
</li>
<li><p>find 和 grep结合使用：find 查找路径 查找规则 |xargs grep 参数 “查找内容”</p>
<blockquote>
<p>如：find . -name”*.c”|xargs grep -n “main”</p>
</blockquote>
</li>
</ul>
<h3 id="Linux-下常用压缩工具"><a href="#Linux-下常用压缩工具" class="headerlink" title="Linux 下常用压缩工具"></a>Linux 下常用压缩工具</h3><ol>
<li>tar 工具</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">z:</td>
<td style="text-align:left">用gzip来压缩/解压缩文件</td>
</tr>
<tr>
<td style="text-align:left">j:</td>
<td style="text-align:left">用bzip2来压缩/解压缩文件</td>
</tr>
<tr>
<td style="text-align:left">c:</td>
<td style="text-align:left">create，创建新的压缩文件，与x互斥使用</td>
</tr>
<tr>
<td style="text-align:left">x:</td>
<td style="text-align:left">从压缩文件中释放文件，与c互斥使用</td>
</tr>
<tr>
<td style="text-align:left">v:</td>
<td style="text-align:left">详细报告tar处理的文件信息</td>
</tr>
<tr>
<td style="text-align:left">f:</td>
<td style="text-align:left">指定压缩文件的名字</td>
</tr>
<tr>
<td style="text-align:left">t:</td>
<td style="text-align:left">查看压缩包中有哪些文件</td>
</tr>
<tr>
<td style="text-align:left">===============</td>
<td style="text-align:left">=========================================</td>
</tr>
<tr>
<td style="text-align:left">gzip和bzip2</td>
<td style="text-align:left">不能压缩目录，只能一个一个文件进行压缩，压缩后会使原文件消失</td>
</tr>
<tr>
<td style="text-align:left">gzip *</td>
<td style="text-align:left">压缩当前目录下所有的文件，但是目录不能压缩</td>
</tr>
<tr>
<td style="text-align:left">gunzip *</td>
<td style="text-align:left">解压当前目录下所有的.gz文件</td>
</tr>
<tr>
<td style="text-align:left">bizip2 *</td>
<td style="text-align:left">压缩当前目录下所有的文件，但是目录不能压缩</td>
</tr>
<tr>
<td style="text-align:left">bunzip2 *</td>
<td style="text-align:left">解压当前目录下所有的.bz2文件</td>
</tr>
</tbody>
</table>
<ul>
<li>压缩：<blockquote>
<ul>
<li>tar cvf 压缩包的名字.tar 要打包压缩的文件或目录</li>
<li>tar zxvf 压缩包名字.tar.gz 要打包压缩的文件或目录</li>
<li>tar jcvf 压缩包的名字.tar.bz2 要打包压缩的文件或目录</li>
</ul>
</blockquote>
</li>
<li>解压缩：<blockquote>
<ul>
<li>tar xvf  xxxx.tar.gz</li>
<li>tar zxvf xxxx.tar.gz</li>
<li>tar jxvf xxxx.tar.bz2</li>
</ul>
</blockquote>
</li>
<li>解压到指定目录：-C（大写）【tar zxvf xxx.tar.gz -C 路径】</li>
<li>查看压缩包中有哪些文件：tar -tvf xxx.tar</li>
</ul>
<ol start="2">
<li>rar 工具（需要安装）</li>
</ol>
<ul>
<li>压缩：<blockquote>
<ul>
<li>rar a -r 要压缩的文件或目录（-r参数表示递归用来压缩目录）</li>
<li>如：rar a -r my aa bb dir(将aa、bb、dir、压缩到my.rar文件中)</li>
<li>压缩新文件无需指定后缀</li>
</ul>
</blockquote>
</li>
<li>解压缩：<blockquote>
<ul>
<li>rar x  xxx.rar 解压目录</li>
</ul>
</blockquote>
</li>
</ul>
<ol start="3">
<li>zip工具</li>
</ol>
<ul>
<li>压缩：<blockquote>
<ul>
<li>zip -r 压缩包名 要压缩的文件或目录</li>
<li>如：zip -r xxx file dir(将file、dir压缩成xxx.zip文件)</li>
</ul>
</blockquote>
</li>
<li>解压缩：<blockquote>
<p>unzip 压缩包名 -d 解压目录（若解压目录不存在则会自动创建）<br>如: unzip xxx.zip -d /home/me/test/first</p>
</blockquote>
</li>
</ul>
<h3 id="Ubuntu-下软件安装和卸载"><a href="#Ubuntu-下软件安装和卸载" class="headerlink" title="Ubuntu 下软件安装和卸载"></a>Ubuntu 下软件安装和卸载</h3><ul>
<li>在线安装：sudo apt-get install 软件名</li>
<li>在线卸载：sudo apt-get remove 软件名</li>
<li>在线更新软件列表：sudo apt-get update</li>
<li>清理安装包（在线安装下载的缓存:/var/cache/apt/archives）：sudo apt-get clean</li>
</ul>
<h5 id="deb包安装和卸载"><a href="#deb包安装和卸载" class="headerlink" title="deb包安装和卸载"></a>deb包安装和卸载</h5><p>安装：sudo dpkg -i xxx.deb<br>卸载：sudo dpkg -r 软件名</p>
<h3 id="gcc编译器"><a href="#gcc编译器" class="headerlink" title="gcc编译器"></a>gcc编译器</h3><table>
<thead>
<tr>
<th style="text-align:left">编译命令</th>
<th style="text-align:left">生成文件</th>
<th style="text-align:left">操作内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gcc -E XXX.c</td>
<td style="text-align:left">XXX.i</td>
<td style="text-align:left">预处理器（cpp）：头文件展开，宏替换，去掉注释和空行</td>
</tr>
<tr>
<td style="text-align:left">gcc -S XXX.i</td>
<td style="text-align:left">XXX.s</td>
<td style="text-align:left">编译器（gcc）：源文件编译成汇编文件</td>
</tr>
<tr>
<td style="text-align:left">gcc -c XXX.s</td>
<td style="text-align:left">XXX.o</td>
<td style="text-align:left">汇编器（as）：将汇编文件编译成二进制文件</td>
</tr>
<tr>
<td style="text-align:left">gcc XXX.o</td>
<td style="text-align:left">a.out</td>
<td style="text-align:left">连接器（ld）：将函数库中相应的代码组合到目标文件中</td>
</tr>
</tbody>
</table>
<h3 id="gcc常用参数"><a href="#gcc常用参数" class="headerlink" title="gcc常用参数"></a>gcc常用参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-v</td>
<td style="text-align:left">查看gcc版本号，–version也可以</td>
</tr>
<tr>
<td style="text-align:left">-E</td>
<td style="text-align:left">生成预处理文件</td>
</tr>
<tr>
<td style="text-align:left">-S（大写）</td>
<td style="text-align:left">生成汇编文件</td>
</tr>
<tr>
<td style="text-align:left">-c（小写）</td>
<td style="text-align:left">只编译，生成.o文件，通常称为目标文件</td>
</tr>
<tr>
<td style="text-align:left">-I</td>
<td style="text-align:left">指定头文件所在路径</td>
</tr>
<tr>
<td style="text-align:left">-L</td>
<td style="text-align:left">指定库文件所在路径</td>
</tr>
<tr>
<td style="text-align:left">-l</td>
<td style="text-align:left">指定库的名字</td>
</tr>
<tr>
<td style="text-align:left">-o</td>
<td style="text-align:left">指定生成的目标文件的名字</td>
</tr>
<tr>
<td style="text-align:left">-g</td>
<td style="text-align:left">包含调试信息，使用gdb调试需要添加-g参数</td>
</tr>
<tr>
<td style="text-align:left">-On</td>
<td style="text-align:left">n=0~3 编译优化，n越大优化的越多</td>
</tr>
<tr>
<td style="text-align:left">-Wall</td>
<td style="text-align:left">提示更多警告信息</td>
</tr>
<tr>
<td style="text-align:left">-D</td>
<td style="text-align:left">编译时定义宏</td>
</tr>
</tbody>
</table>
<h3 id="库的制作和使用"><a href="#库的制作和使用" class="headerlink" title="库的制作和使用"></a>库的制作和使用</h3><ul>
<li>库是二进制文件，是源码我呢见的另一种表现形式，是加了密的源代码；是一些功能相近或者是相似的函数的集合体</li>
<li>使用库的好处:<br>提高代码的复用性，提高程序的健壮性<br>减少开发者的代码开发量，缩短开发周期</li>
<li>库的使用<br>头文件（包含了库函数的声明）<br>库文件（包含了库函数的代码实现）<br>【注意：】库不能单独使用，只能作为其他执行程序的一部分完成某些功能，也就是说只能被其他程序调用才能使用</li>
</ul>
<h4 id="静态库（static-library）"><a href="#静态库（static-library）" class="headerlink" title="静态库（static library）"></a>静态库（static library）</h4><ul>
<li>制作<ol>
<li>gcc -c *.c（源） 分别生成 .o文件</li>
<li>ar rcs lib静态库名.a  .o文件</li>
<li>静态库的命名：lib+自定义库名.a</li>
</ol>
</li>
<li>使用<br>gcc 调用库的.c -L要连接的库所在路径 -I头文件所在路径 -l静态库名（去掉前缀lib和后缀.a）-o 目标名</li>
</ul>
<h3 id="动态库（共享库-shared-library）"><a href="#动态库（共享库-shared-library）" class="headerlink" title="动态库（共享库 shared library）"></a>动态库（共享库 shared library）</h3><ul>
<li>制作<ol>
<li>gcc -fpic -c *.c(源) 生成.o 文件（-fpic创建与地址无关的编译程序）</li>
<li>gcc -shared *.o -o lib动态库名.so</li>
</ol>
</li>
<li>使用<ol>
<li>gcc 调用库的.c -L要连接的库所在路径 -I头文件所在路径 -l动态库名（去掉前缀lib和后缀.so）-o 目标名</li>
<li>配置依赖的库的绝对路径<br>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:库路经（可临时执行生效一次，若要永久有效则需将此行写入~/.bashrc中或者系统配置文件/etc/profile中，或者把库拷贝到系统库/lib中或者/usr/lib中；以上建议写入当前用户 ~/.bashrc配置文件中执行生效）</li>
</ol>
</li>
</ul>


      

    </section>
    
      <section class='ArticleMeta'>
          <div>
            发布于&nbsp;
            <time datetime="2018-06-06T16:00:00.000Z" itemprop="datePublished">
              2018-06-07
            </time>
          </div>
          
            <div>
              tags: 
  <li class="meta-text">
  { <a href="/tags/Linux/">Linux</a> }
  </li>


            </div>
          
      </section>
    
    
</article>

  
</div>

            <footer>
    <div>© 2018 - ZhangBinchen </div>
    <div>
    ZhangBinchen's Blog
    </div>
</footer>

        </div>
    </div>
</div>
<script src="/js/pager/dist/singlepager.js"></script>
<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>